<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/
xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta charset="UTF-8">
		<title>EJERCICIO 3 </title>
		<link rel="stylesheet" href="main.css">
</head>

<script type="text/javascript">
var arr;
var out = "";
var out2 = "";
function descargaArchivo() {
		// Obtener la instancia del objeto XMLHttpRequest		
				peticion_http = new XMLHttpRequest();	
		// Preparar la funcion de respuesta
				peticion_http.onreadystatechange = muestraContenido;
		// Realizar peticion HTTP
				peticion_http.open('GET', 'empleados.json', true);
				peticion_http.send(null);
			function muestraContenido() {
				if(peticion_http.readyState == 4) {
					if(peticion_http.status == 200) {
						arr = JSON.parse(peticion_http.responseText);
						
						var i;
						for(i = 0; i < arr.length; i++) {
						
								out += '<li>'+arr[i].nombre+" "+arr[i].apellido+" : "+arr[i].departamento+" | "+arr[i].salario+'</li>';
								out2 += '<li>'+arr[i].nombre+" "+arr[i].apellido+" : "+arr[i].departamento+'</li>';
						}
						
		
			 
					}
				}
			}
		}

	function cargarDatos(){
		
		obji = document.getElementById("sel1");
		indicesel = obji.selectedIndex;
		objetoselec = obji.options[indicesel]
		console.log(objetoselec)
		if(objetoselec.value == 1){
			document.getElementById("ul1").innerHTML = out2;
		}else if(objetoselec.value == 2){
			document.getElementById("ul1").innerHTML = out
		}else{
			document.getElementById("ul1").innerHTML = ""
		}
	}
				
</script>
</head>
<body onload="descargaArchivo()">
<div id="titulo"> <h1> EMPLEADOS</h1> </div>
<select id="sel1" onchange="cargarDatos()">
<option value="0">Selecciona</option>
<option value="1">Datos sin salario</option>
<option value="2">Datos con salario</option>
</select>
<br><br>
<ul id="ul1">

</ul>
</body>
</html>